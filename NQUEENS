#include <stdio.h>
#include <stdlib.h>

int count = 0;


void printSolution(int *board , int n){

    count++;
    printf("Solution: %d \n",count);
    for (int i = 0; i < n; i++) {
        for (int j = 0; j < n; j++) {
            if (board[i] == j)
                printf("Q\t");
            else
                printf(".\t");
        }
                 printf("\n");
    }
                 printf("\n");
}


int isSafe(int *board,int row,int col){
    for(int i = 0 ; i < row ; i++){
            if(board[i] == col  || board[i]-i == col-row || board[i]+i == col+row){
                return 0;
            }
    }
    return 1;
}

void solveNqueen(int *board,int row,int n){

    if(row == n){

        printSolution(board,n);
        return;
    }

    for(int col = 0 ; col < n ; col++){
        if(isSafe(board,row,col)){
            board[row] = col;
            solveNqueen(board,row+1,n);

        }
    }
}

int main(){
    int n;
    printf("Enter no. of Queens: ");
    scanf("%d",&n);
    

    int *board = (int*)malloc(n*sizeof(int));
    solveNqueen(board,0,n);

    if(count == 0)
        printf("NO solution possible");


    return 0;
}
